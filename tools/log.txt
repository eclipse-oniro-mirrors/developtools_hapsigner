java -jar .\hap_sign_tool.jar generate-keypair -keyAlias "oh-app1-key-v1" -keyPwd 123456 -keyAlg ECC -keySize NIST-P-256 -keystoreFile "ohtest.jks" -keystorePwd 123456
b'01-10 14:45:09 INFO  - Start generate-keypair'
b'01-10 14:45:09 INFO  - generate-keypair success'
java -jar .\hap_sign_tool.jar generate-keypair -keyAlias "oh-app1-key-v1" -keyPwd 123456 -keyAlg RSA -keySize 2048 -keystoreFile  "ohtest.p12" -keystorePwd 123456
b'01-10 14:45:10 INFO  - Start generate-keypair'
b'01-10 14:45:11 INFO  - generate-keypair success'
java -jar .\hap_sign_tool.jar generate-csr -keyAlias "oh-app1-key-v1" -keyPwd 123456 -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -signAlg SHA256withECDSA  -keystoreFile  "ohtest.jks" -keystorePwd 123456 -outFile "oh-app1-key-v1.csr"
b'01-10 14:45:11 INFO  - Start generate-csr'
b'01-10 14:45:11 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:12 INFO  - generate-csr success'
java -jar .\hap_sign_tool.jar generate-ca -keyAlias "oh-root-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Root CA" -validity 365 -signAlg SHA384withECDSA  -keystoreFile  "ohtest.jks" -keystorePwd 123456  -outFile "root-ca1.cer" -keyAlg ECC -keySize NIST-P-256
b'01-10 14:45:12 INFO  - Start generate-ca'
b'01-10 14:45:12 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:13 INFO  - generate-ca success'
java -jar .\hap_sign_tool.jar generate-ca -keyAlias "oh-root-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Root CA" -validity 365 -signAlg SHA384withECDSA  -keystoreFile  "ohtest.p12" -keystorePwd 123456  -outFile "root-ca2.cer" -keyAlg RSA -keySize 2048
b'01-10 14:45:13 INFO  - Start generate-ca'
b'01-10 14:45:13 INFO  - ohtest.p12 is exist. Try to load it with given passwd'
b'01-10 14:45:14 INFO  - generate-ca success'
java -jar .\hap_sign_tool.jar generate-ca -keyAlias "oh-app-sign-srv-ca-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Root CA" -issuerKeyAlias "oh-root-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN= Application Signature Service CA" -validity 365 -signAlg SHA384withECDSA  -keystoreFile  "ohtest.jks" -keystorePwd 123456  -outFile "app-sign-srv-ca1.cer" -keyAlg ECC -keySize NIST-P-256
b'01-10 14:45:15 INFO  - Start generate-ca'
b'01-10 14:45:15 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:15 INFO  - generate-ca success'
java -jar .\hap_sign_tool.jar generate-ca -keyAlias "oh-app-sign-srv-ca-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Root CA" -issuerKeyAlias "oh-root-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN= Application Signature Service CA" -validity 365 -signAlg SHA384withECDSA  -keystoreFile  "ohtest.p12" -keystorePwd 123456  -outFile "app-sign-srv-ca2.cer" -keyAlg RSA -keySize 2048
b'01-10 14:45:16 INFO  - Start generate-ca'
b'01-10 14:45:16 INFO  - ohtest.p12 is exist. Try to load it with given passwd'
b'01-10 14:45:17 INFO  - generate-ca success'
java -jar .\hap_sign_tool.jar generate-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -keyUsage digitalSignature -extKeyUsage codeSignature -signAlg SHA256withECDSA  -keystoreFile  "ohtest.jks" -keystorePwd 123456 -outFile "single-app1.cer" -keyPwd 123456
b'01-10 14:45:17 INFO  - Start generate-cert'
b'01-10 14:45:17 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:18 INFO  - generate-cert success'
java -jar .\hap_sign_tool.jar generate-app-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -signAlg SHA256withECDSA  -keystoreFile  "ohtest.jks" -keystorePwd 123456 -outFile "app1.cer" -keyPwd 123456
b'01-10 14:45:18 INFO  - Start generate-app-cert'
b'01-10 14:45:18 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:19 INFO  - generate-app-cert success'
java -jar .\hap_sign_tool.jar generate-app-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -signAlg SHA256withECDSA  -keystoreFile  "ohtest.jks" -keystorePwd 123456 -outFile "app-release1.pem" -subCaCertFile app-sign-srv-ca1.cer -outForm certChain -rootCaCertFile root-ca1.cer -keyPwd 123456
b'01-10 14:45:19 INFO  - Start generate-app-cert'
b'01-10 14:45:19 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:20 INFO  - generate-app-cert success'
java -jar .\hap_sign_tool.jar generate-app-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -signAlg SHA256withECDSA  -keystoreFile  "ohtest.p12" -keystorePwd 123456 -outFile "app2.cer" -keyPwd 123456
b'01-10 14:45:20 INFO  - Start generate-app-cert'
b'01-10 14:45:20 INFO  - ohtest.p12 is exist. Try to load it with given passwd'
b'01-10 14:45:21 INFO  - generate-app-cert success'
java -jar .\hap_sign_tool.jar generate-app-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -signAlg SHA256withECDSA  -keystoreFile  "ohtest.p12" -keystorePwd 123456 -outFile "app-release2.pem" -subCaCertFile app-sign-srv-ca2.cer -outForm certChain -rootCaCertFile root-ca2.cer -keyPwd 123456
b'01-10 14:45:22 INFO  - Start generate-app-cert'
b'01-10 14:45:22 INFO  - ohtest.p12 is exist. Try to load it with given passwd'
b'01-10 14:45:22 INFO  - generate-app-cert success'
java -jar .\hap_sign_tool.jar generate-profile-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -signAlg SHA256withECDSA  -keystoreFile  "ohtest.jks" -keystorePwd 123456 -outFile "profile1.cer" -keyPwd 123456
b'01-10 14:45:23 INFO  - Start generate-profile-cert'
b'01-10 14:45:23 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:23 INFO  - generate-profile-cert success'
java -jar .\hap_sign_tool.jar generate-profile-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -signAlg SHA256withECDSA -keystoreFile  "ohtest.jks" -keystorePwd 123456 -outFile "profile-release1.pem" -subCaCertFile app-sign-srv-ca1.cer -outForm certChain -rootCaCertFile root-ca1.cer -keyPwd 123456
b'01-10 14:45:24 INFO  - Start generate-profile-cert'
b'01-10 14:45:24 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:24 INFO  - generate-profile-cert success'
java -jar .\hap_sign_tool.jar generate-profile-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -signAlg SHA256withECDSA  -keystoreFile  "ohtest.p12" -keystorePwd 123456 -outFile "profile2.cer" -keyPwd 123456
b'01-10 14:45:25 INFO  - Start generate-profile-cert'
b'01-10 14:45:25 INFO  - ohtest.p12 is exist. Try to load it with given passwd'
b'01-10 14:45:26 INFO  - generate-profile-cert success'
java -jar .\hap_sign_tool.jar generate-profile-cert -keyAlias "oh-app1-key-v1" -issuer "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=Application Signature Service CA" -issuerKeyAlias "oh-app-sign-srv-ca-key-v1" -subject  "C=CN,O=OpenHarmony,OU=OpenHarmony Community,CN=App1 Release" -validity 365 -signAlg SHA256withECDSA  -keystoreFile  "ohtest.p12" -keystorePwd 123456 -outFile "profile-release2.pem" -subCaCertFile app-sign-srv-ca2.cer -outForm certChain -rootCaCertFile root-ca2.cer -keyPwd 123456
b'01-10 14:45:26 INFO  - Start generate-profile-cert'
b'01-10 14:45:26 INFO  - ohtest.p12 is exist. Try to load it with given passwd'
b'01-10 14:45:27 INFO  - generate-profile-cert success'
java -jar .\hap_sign_tool.jar sign-profile -mode localSign -keyAlias "oh-app1-key-v1" -profileCertFile "profile-release1.pem" -inFile  "profile.json" -signAlg SHA256withECDSA  -keystoreFile  "ohtest.jks" -keystorePwd 123456 -outFile "app1-profile1.p7b"  -keyPwd 123456
b'01-10 14:45:27 INFO  - Start sign-profile'
b'01-10 14:45:27 INFO  - ohtest.jks is exist. Try to load it with given passwd'
b'01-10 14:45:28 INFO  - sign-profile success'
java -jar .\hap_sign_tool.jar sign-profile -mode localSign -keyAlias "oh-app1-key-v1" -profileCertFile "profile-release2.pem" -inFile  "profile.json" -signAlg SHA256withRSA  -keystoreFile  "ohtest.p12" -keystorePwd 123456 -outFile "app1-profile2.p7b"  -keyPwd 123456
b'01-10 14:45:28 INFO  - Start sign-profile'
b'01-10 14:45:28 INFO  - ohtest.p12 is exist. Try to load it with given passwd'
b'01-10 14:45:29 INFO  - sign-profile success'
java -jar .\hap_sign_tool.jar verify-profile -inFile "app1-profile1.p7b"
b'01-10 14:45:29 INFO  - Start verify-profile'
b'01-10 14:45:30 INFO  - {'
b'"verifiedPassed": true,'
b'"message": "OK",'
b'"content": {'
b'"version-code": 1,'
b'"version-name": "1.0.0",'
b'"uuid": "fe686e1b-3770-4824-a938-961b140a7c98",'
b'"type": "debug",'
b'"validity": {'
b'"not-before": 1610519532,'
b'"not-after": 1705127532'
b'},'
b'"bundle-info": {'
b'"developer-id": "OpenHarmony",'
b'"development-certificate": "-----BEGIN CERTIFICATE-----\\nMIICMzCCAbegAwIBAgIEaOC/zDAMBggqhkjOPQQDAwUAMGMxCzAJBgNVBAYTAkNO\\nMRQwEgYDVQQKEwtPcGVuSGFybW9ueTEZMBcGA1UECxMQT3Blbkhhcm1vbnkgVGVh\\nbTEjMCEGA1UEAxMaT3Blbkhhcm1vbnkgQXBwbGljYXRpb24gQ0EwHhcNMjEwMjAy\\nMTIxOTMxWhcNNDkxMjMxMTIxOTMxWjBoMQswCQYDVQQGEwJDTjEUMBIGA1UEChML\\nT3Blbkhhcm1vbnkxGTAXBgNVBAsTEE9wZW5IYXJtb255IFRlYW0xKDAmBgNVBAMT\\nH09wZW5IYXJtb255IEFwcGxpY2F0aW9uIFJlbGVhc2UwWTATBgcqhkjOPQIBBggq\\nhkjOPQMBBwNCAATbYOCQQpW5fdkYHN45v0X3AHax12jPBdEDosFRIZ1eXmxOYzSG\\nJwMfsHhUU90E8lI0TXYZnNmgM1sovubeQqATo1IwUDAfBgNVHSMEGDAWgBTbhrci\\nFtULoUu33SV7ufEFfaItRzAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0OBBYEFPtxruhl\\ncRBQsJdwcZqLu9oNUVgaMAwGCCqGSM49BAMDBQADaAAwZQIxAJta0PQ2p4DIu/ps\\nLMdLCDgQ5UH1l0B4PGhBlMgdi2zf8nk9spazEQI/0XNwpft8QAIwHSuA2WelVi/o\\nzAlF08DnbJrOOtOnQq5wHOPlDYB4OtUzOYJk9scotrEnJxJzGsh/\\n-----END CERTIFICATE-----\\n",'
b'"bundle-name": "com.OpenHarmony.app.test",'
b'"app-feature": "hos_system_app"'
b'},'
b'"permissions": {'
b'"restricted-permissions": ['
b'""'
b']'
b'},'
b'"debug-info": {'
b'"device-id-type": "udid",'
b'"device-ids": ['
b'"69C7505BE341BDA5948C3C0CB44ABCD530296054159EFE0BD16A16CD0129CC42",'
b'"7EED06506FCE6325EB2E2FAA019458B856AB10493A6718C7679A73F958732865"'
b']'
b'},'
b'"issuer": "pki_internal"'
b'}'
b'}'
b'01-10 14:45:30 INFO  - verify-profile success'
java -jar .\hap_sign_tool.jar verify-profile -inFile "app1-profile2.p7b"
b'01-10 14:45:30 INFO  - Start verify-profile'
b'01-10 14:45:30 INFO  - {'
b'"verifiedPassed": true,'
b'"message": "OK",'
b'"content": {'
b'"version-code": 1,'
b'"version-name": "1.0.0",'
b'"uuid": "fe686e1b-3770-4824-a938-961b140a7c98",'
b'"type": "debug",'
b'"validity": {'
b'"not-before": 1610519532,'
b'"not-after": 1705127532'
b'},'
b'"bundle-info": {'
b'"developer-id": "OpenHarmony",'
b'"development-certificate": "-----BEGIN CERTIFICATE-----\\nMIICMzCCAbegAwIBAgIEaOC/zDAMBggqhkjOPQQDAwUAMGMxCzAJBgNVBAYTAkNO\\nMRQwEgYDVQQKEwtPcGVuSGFybW9ueTEZMBcGA1UECxMQT3Blbkhhcm1vbnkgVGVh\\nbTEjMCEGA1UEAxMaT3Blbkhhcm1vbnkgQXBwbGljYXRpb24gQ0EwHhcNMjEwMjAy\\nMTIxOTMxWhcNNDkxMjMxMTIxOTMxWjBoMQswCQYDVQQGEwJDTjEUMBIGA1UEChML\\nT3Blbkhhcm1vbnkxGTAXBgNVBAsTEE9wZW5IYXJtb255IFRlYW0xKDAmBgNVBAMT\\nH09wZW5IYXJtb255IEFwcGxpY2F0aW9uIFJlbGVhc2UwWTATBgcqhkjOPQIBBggq\\nhkjOPQMBBwNCAATbYOCQQpW5fdkYHN45v0X3AHax12jPBdEDosFRIZ1eXmxOYzSG\\nJwMfsHhUU90E8lI0TXYZnNmgM1sovubeQqATo1IwUDAfBgNVHSMEGDAWgBTbhrci\\nFtULoUu33SV7ufEFfaItRzAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0OBBYEFPtxruhl\\ncRBQsJdwcZqLu9oNUVgaMAwGCCqGSM49BAMDBQADaAAwZQIxAJta0PQ2p4DIu/ps\\nLMdLCDgQ5UH1l0B4PGhBlMgdi2zf8nk9spazEQI/0XNwpft8QAIwHSuA2WelVi/o\\nzAlF08DnbJrOOtOnQq5wHOPlDYB4OtUzOYJk9scotrEnJxJzGsh/\\n-----END CERTIFICATE-----\\n",'
b'"bundle-name": "com.OpenHarmony.app.test",'
b'"app-feature": "hos_system_app"'
b'},'
b'"permissions": {'
b'"restricted-permissions": ['
b'""'
b']'
b'},'
b'"debug-info": {'
b'"device-id-type": "udid",'
b'"device-ids": ['
b'"69C7505BE341BDA5948C3C0CB44ABCD530296054159EFE0BD16A16CD0129CC42",'
b'"7EED06506FCE6325EB2E2FAA019458B856AB10493A6718C7679A73F958732865"'
b']'
b'},'
b'"issuer": "pki_internal"'
b'}'
b'}'
b'01-10 14:45:30 INFO  - verify-profile success'
